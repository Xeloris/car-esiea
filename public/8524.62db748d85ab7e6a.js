"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8524],{8524:(m,_,r)=>{r.r(_),r.d(_,{CarPage:()=>E});var g=r(467),d=r(177),l=r(8326),t=r(4742),u=r(5079),C=r(5873),n=r(4438),P=r(1237),O=r(4785),M=r(7795),h=r(4729);function p(i,s){if(1&i){const e=n.RV6();n.j41(0,"ion-col",3)(1,"ion-card",4),n.bIt("click",function(){const a=n.eBV(e).$implicit,c=n.XpG();return n.Njj(c.seeDetailsCar(a))}),n.nrm(2,"ion-img",5),n.j41(3,"ion-card-header")(4,"ion-card-title"),n.EFF(5),n.k0s()()()()}if(2&i){const e=s.$implicit;n.R7$(2),n.FCK("alt","",e.brand," ",e.model,""),n.Y8G("src",e.frontPhotoUrl),n.R7$(3),n.Lme("",e.brand," ",e.model,"")}}let E=(()=>{var i;class s{constructor(o,a,c,v){this.router=o,this.carService=a,this.toastController=c,this.authenticationService=v,this.cars=[],(0,u.a)({powerOutline:C.iG$})}ngOnInit(){this.carService.getAllCars().then(o=>{this.cars=o}).catch(()=>{this.errorToast("An error occurred. Please try again later.")})}onCreationCar(){this.router.navigate(["/car/create"])}seeDetailsCar(o){this.router.navigate([`/car/detail/${o.licensePlate}`])}onLogout(){this.authenticationService.logout().then(()=>{this.router.navigate(["/login"])}).catch(()=>{this.errorToast("An error occurred. Please try again later.")})}errorToast(o){var a=this;return(0,g.A)(function*(){yield(yield a.toastController.create({message:o,duration:3e3,position:"top",color:"danger",buttons:[{text:"Dismiss",role:"cancel"}]})).present()})()}}return(i=s).\u0275fac=function(o){return new(o||i)(n.rXU(P.Ix),n.rXU(O.K),n.rXU(M.K_),n.rXU(h.k))},i.\u0275cmp=n.VBU({type:i,selectors:[["app-car"]],standalone:!0,features:[n.aNF],decls:12,vars:1,consts:[["slot","end",3,"click"],["slot","end","name","power-outline",3,"click"],[1,"cars",3,"fullscreen"],["size","12","size-lg","2"],[3,"click"],[3,"src","alt"]],template:function(o,a){1&o&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n.EFF(3,"Cars"),n.k0s(),n.j41(4,"ion-button",0),n.bIt("click",function(){return a.onCreationCar()}),n.EFF(5,"Add car"),n.k0s(),n.j41(6,"ion-icon",1),n.bIt("click",function(){return a.onLogout()}),n.k0s()()(),n.j41(7,"ion-content",2)(8,"ion-grid")(9,"ion-row"),n.Z7z(10,p,6,6,"ion-col",3,n.fX1),n.k0s()()()),2&o&&(n.R7$(7),n.Y8G("fullscreen",!0),n.R7$(3),n.Dyx(a.cars))},dependencies:[d.MD,t.bv,t.Jm,t.b_,t.ME,t.tN,t.hU,t.W9,t.lO,t.eU,t.iq,t.KW,t.ln,t.BC,t.ai,l.YN,l.X1],styles:["ion-content[_ngcontent-%COMP%]{--background: none;background-image:url(/assets/web-background.jpg);background-position:center center;background-repeat:no-repeat;background-size:cover}a[_ngcontent-%COMP%]{color:var(--ion-color-primary-tint);text-decoration:none;cursor:pointer}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.span-error[_ngcontent-%COMP%]{color:var(--ion-color-danger);font-size:14px;display:block}.cars[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease,box-shadow .3s ease;border-radius:8px}.cars[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.cars[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{border-top-left-radius:8px;border-top-right-radius:8px;height:300px;object-fit:cover}.cars[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{text-align:center;padding:10px}.cars[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}ion-icon[_ngcontent-%COMP%]{padding:20px;font-size:20px;cursor:pointer}ion-icon[_ngcontent-%COMP%]:hover{color:var(--ion-color-primary);transform:scale(1.1)}"]}),s})()}}]);